var P5g=function(n){function t(n,t){if(isFinite(n)&&isFinite(t)&&n>=0&&B>n&&t>=0&&O>t){var e=n+t*B;H?void 0===L?f():u(L):0===z[e]?(z[e]=P,J[P-1]=e,a(),P+=1,P>I&&(H=!0)):console.log("Unavailable placement.")}else console.log("Unavailable placement.")}function e(n,t,e){if(isFinite(n)&&isFinite(t)&&isFinite(e)&&n>=0&&B>n&&t>=0&&O>t&&e>=0&&e<K.length){for(var r,o=n+t*B,i=$[K[e]],a=Math.min(2*F,1===i.x?B-n:-1===i.x?n+1:1/0,1===i.y?O-t:-1===i.y?t+1:1/0),c=i.x+i.y*B,p=[],l=[],s=-1,d=-1,h=-1,u={o:0,j:0,d:0},f=1;a>f;f++)if(r=o+c*f,0===z[r]){if(-1!==s)break;if(s=f,-1!=d)break}else if(Math.abs(z[r]-z[o])%2===0){if(-1!==d){h=f;break}-1===s?p.push(r):l.push(r)}else if(Math.abs(z[r]-z[o])%2===1){if(-1!==s){l.length>0&&(d=f);break}l.push(r),-1===d&&(d=f)}return f===a&&(-1==s?-1==d?d=f:h=f:l.length>0&&(d=f)),-1!==h?(u.b=1,u.d=1):l.length>0?-1!=d?s>d?u.d=1:(u.o=1,u.j=1,u.b=1):(u.j=1,u.o=1):-1!==d?u.d=1:u.o=1,{p:o,n:p,n2:l,f:u}}}function r(n,t,r){var o,i=e(n,t,r),a=e(n,t,r+4),c=i.n.length+a.n.length+1,p=[i.p].concat(i.n).concat(a.n),l=[];return F>c?i.f.o&&a.f.o?i.f.j&&a.f.j?(o=i.n2.length>a.n2.length?1:i.n2.length<a.n2.length?2:0,2!==o&&l.push(i.f.b?{t:3,n:c+i.n2.length,p:p.concat(i.n2),d:r}:{t:1,n:c+i.n2.length,p:p.concat(i.n2),d:r}),1!==o&&l.push(a.f.b?{t:3,n:c+a.n2.length,p:p.concat(a.n2),d:r}:{t:1,n:c+a.n2.length,p:p.concat(a.n2),d:r})):l.push(i.f.j?i.f.b?{t:3,n:c+i.n2.length,p:p.concat(i.n2),d:r}:{t:1,n:c+i.n2.length,p:p.concat(i.n2),d:r}:a.f.j?a.f.b?{t:3,n:c+a.n2.length,p:p.concat(a.n2),d:r}:{t:1,n:c+a.n2.length,p:p.concat(a.n2),d:r}:{t:0,n:c,p:p,d:r}):l.push(i.f.o?i.f.j?i.f.b?{t:5,n:c+i.n2.length,p:p.concat(i.n2),d:r}:{t:3,n:c+i.n2.length,p:p.concat(i.n2),d:r}:{t:2,n:c,p:p,d:r}:a.f.o?a.f.j?a.f.b?{t:5,n:c+a.n2.length,p:p.concat(a.n2),d:r}:{t:3,n:c+a.n2.length,p:p.concat(a.n2),d:r}:{t:2,n:c,p:p,d:r}:{t:4,n:c,p:p,d:r}):l.push({t:0,n:c,p:p,d:r}),l}function o(n,t){var e=n+t*B,o=0;T[e]=[];for(var i=0;i<q.length;i++)r(n,t,i).forEach(function(n){n.n<F?n.n===F-1?4!==n.t&&(T[e].push(n),o=Math.max(o,F-1)):n.n===F-2?n.t<2?(T[e].push(n),o=Math.max(o,F-2)):n.n<4&&T[e].push(n):n.n===F-3&&n.t<4&&T[e].push(n):n.t%2?(T[e].push(n),o=Math.max(o,F-1)):(T[e].push(n),o=F)});return T[e].length>0?T[e].sort(function(n,t){return t.n-n.n||n.t-t.t}):delete T[e],o}function i(n,t){for(var e,r,i,a=n+t*B,c=0;c<K.length;c++)for(var p=$[K[c]],l=Math.min(F,1===p.x?B-n:-1===p.x?n+1:1/0,1===p.y?O-t:-1===p.y?t+1:1/0),s=p.x+p.y*B,d=0,h=0,u=1;l>u;u++)if(e=a+s*u,r=n+p.x*u,i=t+p.y*u,0===z[e]){if(h)break;h=u}else if(Math.abs(z[e]-z[a])%2===0){if(d)break;S[e]=o(r,i)}else Math.abs(z[e]-z[a])%2===1&&(d||(d=u),S[e]=o(r,i));S[a]=o(n,t)}function a(){if(P>I)f();else{var n=J[P-1],t=n%B,e=(n-t)/B;i(t,e),S[n]<F?P===I&&f():u((P-1)%2)}}function c(n,t){for(var e=n%B,r=Math.max(e-t,0),o=Math.min(e+1+t,B),i=(n-e)/B,a=Math.max(i-t,0),c=Math.min(i+1+t,O),p=[],l=a;c>l;l++)for(var s=r;o>s;s++)p.push({p:s+l*B,dx:Math.abs(s-e),dy:Math.abs(l-i)});return p}function p(){for(var n=Object.keys(T),t=n.length,e=[],r=[],o={},i={},a={},p={},l=0;t>l;l++)(P-z[n[l]])%2===1?r.push({p:n[l],n:T[n[l]]}):e.push({p:n[l],n:T[n[l]]});for(r.sort(function(n,t){return t.n.n-n.n.n||n.n.t-t.n.t}),e.sort(function(n,t){return t.n.n-n.n.n||n.n.t-t.n.t}),l=0;l<r.length;l++)for(var s=0;s<r[l].n.length;s++){r[l].n[s].p.sort(function(n,t){return n-t});var d,h=$[K[r[l].n[s].d]],u=r[l].n[s].t,f=r[l].n[s].n,g=h.x+h.y*B,v=r[l].n[s].p[r[l].n[s].p.length-1]-g,b=r[l].n[s].p[r[l].n[s].p.length-1]%B-h.x,m=(r[l].n[s].p[r[l].n[s].p.length-1]-b)/B-h.y,x=r[l].n[s].p[0]+g,y=r[l].n[s].p[0]%B+h.x,E=(r[l].n[s].p[0]-y)/B+h.y,k=v-g,w=b-h.x,N=m-h.y,M=x+g,C=y+h.x,U=E+h.y,_=k-g,j=w-h.x,L=N-h.y,A=M+g,D=C+h.x,R=U+h.y,I=_-g,S=j-h.x,H=L-h.y,q=A+g,G=D+h.x,Q=R+h.y;if(u%2)for(var V=1;V<r[l].n[s].p.length;V++)if(r[l].n[s].p[V]-r[l].n[s].p[V-1]>-g){d=x-g*(V+1);break}!(S>=0&&B>S&&H>=0&&O>H||(I=-1,j>=0&&B>j&&L>=0&&O>L||(_=-1,w>=0&&B>w&&N>=0&&O>N||(k=-1,b>=0&&B>b&&m>=0&&O>m||!(v=-1))))),!(G>=0&&B>G&&Q>=0&&O>Q||(q=-1,D>=0&&B>D&&R>=0&&O>R||(A=-1,C>=0&&B>C&&U>=0&&O>U||(M=-1,y>=0&&B>y&&E>=0&&O>E||!(x=-1))))),0===u?f===F-1?(o[v]=(o[v]||0)+80/f,o[x]=(o[x]||0)+80/f):f===F-2?-1!==k&&0===z[k]&&-1!==M&&0===z[M]?(o[v]=(o[v]||0)+36/f,o[x]=(o[x]||0)+36/f):-1!==M&&0===z[M]?(o[x]=(o[x]||0)+36/f,o[v]=(o[v]||0)+10/f):-1!==k&&0===z[k]?(o[v]=(o[v]||0)+36/f,o[x]=(o[x]||0)+10/f):(o[v]=(o[v]||0)+10/f,o[x]=(o[x]||0)+10/f):f===F-3&&(-1!==k&&0===z[k]&&-1!==M&&0===z[M]?(o[v]=(o[v]||0)+14/f,o[k]=(o[k]||0)+14/f,o[x]=(o[x]||0)+14/f,o[M]=(o[M]||0)+14/f):-1!==M&&0===z[M]?(o[x]=(o[x]||0)+10/f,o[M]=(o[M]||0)+10/f):-1!==k&&0===z[k]?(o[v]=(o[v]||0)+10/f,o[k]=(o[k]||0)+10/f):(o[v]=(o[v]||0)+6/f,o[x]=(o[x]||0)+6/f)):1===u?F-1>f?f===F-2?(o[d]=(o[d]||0)+36/f,-1!==k&&0===z[k]&&-1!==M&&0===z[M]?1===Z?(i[v]=(i[v]||0)+24/f,i[x]=(i[x]||0)+15/f):(i[v]=(i[v]||0)+15/f,i[x]=(i[x]||0)+24/f):-1!==k&&0===z[k]?-1!==M&&(P-z[M])%2===1?i[x]=(i[x]||0)+2/f:i[v]=1===Z?(i[v]||0)+24/f:(i[v]||0)+15/f:-1!==M&&0===z[M]&&(-1!==k&&(P-z[k])%2===1?i[v]=(i[v]||0)+2/f:i[x]=1===Z?(i[x]||0)+15/f:(i[x]||0)+24/f)):f===F-3&&(-1!==k&&0===z[k]&&-1!==M&&0===z[M]?(o[d]=(o[d]||0)+14/f,o[v]=(o[v]||0)+14/f,o[k]=(o[k]||0)+14/f,o[x]=(o[x]||0)+14/f,o[M]=(o[M]||0)+14/f):-1!==M&&0===z[M]?(o[d]=(o[d]||0)+10/f,o[x]=(o[x]||0)+12/f):-1!==k&&0===z[k]?(o[d]=(o[d]||0)+10/f,o[v]=(o[v]||0)+12/f):o[d]=(o[d]||0)+6/f):o[d]=(o[d]||0)+80/f:2===u?f===F-1?(-1!==v&&0===z[v]&&(o[v]=(o[v]||0)+80/f),-1!==x&&0===z[x]&&(o[x]=(o[x]||0)+80/f)):f===F-2?(-1!==v&&0===z[v]&&-1!==k&&0===z[k]&&(o[v]=(o[v]||0)+12/f,o[k]=(o[k]||0)+12/f),-1!==x&&0===z[x]&&-1!==M&&0===z[M]&&(o[x]=(o[x]||0)+12/f,o[M]=(o[M]||0)+12/f)):f===F-3&&(-1!==v&&0===z[v]&&-1!==k&&0===z[k]&&-1!==_&&0!==z[_]&&(P-z[_])%2===1&&(o[v]=(o[v]||0)+12/f,o[k]=(o[k]||0)+12/f),-1!==x&&0===z[x]&&-1!==M&&0===z[M]&&-1!==A&&0!==z[A]&&(P-z[A])%2===1&&(o[x]=(o[x]||0)+12/f,o[M]=(o[M]||0)+12/f)):3===u?F-1>f?f===F-2&&(o[d]=(o[d]||0)+12/f,-1!==v&&0===z[v]&&(o[v]=-1===k||0===z[k]||(P-z[k])%2!==0?(o[v]||0)+12/f:(o[v]||0)+6/f),-1!==x&&0===z[x]&&(o[x]=-1===M||0===z[M]||(P-z[M])%2!==0?(o[x]||0)+12/f:(o[x]||0)+6/f)):o[d]=(o[d]||0)+80/f:5===u&&(F-1>f||(o[d]=(o[d]||0)+80/f))}var W=Object.keys(o),X=W.length,Y=Array(X);for(l=0;X>l;l++)Y[l]={p:W[l],n:o[W[l]]},p[W[l]]=o[W[l]];for(Y.sort(function(n,t){return t.n-n.n||n.p-t.p}),l=0;l<e.length;l++)for(s=0;s<e[l].n.length;s++){e[l].n[s].p.sort(function(n,t){return n-t});var d,Z,h=$[K[e[l].n[s].d]],u=e[l].n[s].t,f=e[l].n[s].n,g=h.x+h.y*B,v=e[l].n[s].p[e[l].n[s].p.length-1]-g,b=e[l].n[s].p[e[l].n[s].p.length-1]%B-h.x,m=(e[l].n[s].p[e[l].n[s].p.length-1]-b)/B-h.y,x=e[l].n[s].p[0]+g,y=e[l].n[s].p[0]%B+h.x,E=(e[l].n[s].p[0]-y)/B+h.y,k=v-g,w=b-h.x,N=m-h.y,M=x+g,C=y+h.x,U=E+h.y,_=k-g,j=w-h.x,L=N-h.y,A=M+g,D=C+h.x,R=U+h.y,I=_-g,S=j-h.x,H=L-h.y,q=A+g,G=D+h.x,Q=R+h.y;if(u%2)for(var V=1;V<e[l].n[s].p.length;V++)if(e[l].n[s].p[V]-e[l].n[s].p[V-1]>-g){d=x-g*(V+1),Z=V;break}!(S>=0&&B>S&&H>=0&&O>H||(I=-1,j>=0&&B>j&&L>=0&&O>L||(_=-1,w>=0&&B>w&&N>=0&&O>N||(k=-1,b>=0&&B>b&&m>=0&&O>m||!(v=-1))))),!(G>=0&&B>G&&Q>=0&&O>Q||(q=-1,D>=0&&B>D&&R>=0&&O>R||(A=-1,C>=0&&B>C&&U>=0&&O>U||(M=-1,y>=0&&B>y&&E>=0&&O>E||!(x=-1))))),0===u?f===F-1?(i[v]=(i[v]||0)+100/f,i[x]=(i[x]||0)+100/f):f===F-2?(-1!==k&&(0===z[k]?(i[v]=(i[v]||0)+42/f,i[k]=(i[k]||0)+24/f):(P-z[k])%2===1&&(i[v]=(i[v]||0)+21/f)),-1!==M&&(0===z[M]?(i[x]=(i[x]||0)+42/f,i[M]=(i[M]||0)+24/f):(P-z[M])%2===1&&(i[x]=(i[x]||0)+21/f))):f===F-3&&(-1===k||0===z[k]||-1===M||0===z[M])&&(-1!==k&&(0===z[k]?-1!==_&&(0===z[_]?(i[v]=(i[v]||0)+16/f,i[k]=(i[k]||0)+12/f):(P-z[_])%2===0?(i[v]=(i[v]||0)+36/f,i[k]=(i[k]||0)+30/f):i[v]=(i[v]||0)+12/f):i[v]=(i[v]||0)+6/f),-1!==M&&(0===z[M]?-1!==A&&(0===z[A]?(i[x]=(i[x]||0)+16/f,i[M]=(i[M]||0)+12/f):(P-z[A])%2===0?(i[x]=(i[x]||0)+36/f,i[M]=(i[M]||0)+30/f):i[x]=(i[x]||0)+12/f):i[x]=(i[x]||0)+6/f)):1===u?F-1>f?f===F-2?(i[d]=(i[d]||0)+42/f,-1!==k&&0===z[k]&&-1!==M&&0===z[M]?1===Z?(i[v]=(i[v]||0)+30/f,i[x]=(i[x]||0)+18/f):(i[v]=(i[v]||0)+18/f,i[x]=(i[x]||0)+30/f):-1!==k&&0===z[k]?1===Z?(i[v]=(i[v]||0)+30/f,i[x]=(i[x]||0)+6/f):(i[v]=(i[v]||0)+18/f,i[x]=(i[x]||0)+6/f):-1!==M&&0===z[M]?1===Z?(i[v]=(i[v]||0)+6/f,i[x]=(i[x]||0)+18/f):(i[v]=(i[v]||0)+6/f,i[x]=(i[x]||0)+30/f):(i[v]=(i[v]||0)+6/f,i[x]=(i[x]||0)+6/f)):f===F-3&&(-1!==k&&0===z[k]&&-1!==M&&0===z[M]?(i[d]=(i[d]||0)+16/f,i[v]=(i[v]||0)+14/f,i[x]=(i[x]||0)+14/f):-1!==k&&0===z[k]?(i[d]=(i[d]||0)+14/f,-1!==M&&(P-z[M])%2===0?(i[d]=(i[d]||0)+4/f,i[x]=(i[x]||0)+18/f):i[v]=(i[v]||0)+8/f,i[x]=(i[x]||0)+6/f):-1!==M&&0===z[M]?(i[d]=(i[d]||0)+14/f,i[v]=(i[v]||0)+6/f,-1!==k&&(P-z[k])%2===0?(i[d]=(i[d]||0)+4/f,i[v]=(i[v]||0)+18/f):i[x]=(i[x]||0)+8/f):(i[d]=(i[d]||0)+6/f,-1!==M&&(P-z[M])%2===0&&(i[d]=(i[d]||0)+6/f,i[v]=(i[v]||0)+18/f),-1!==k&&(P-z[k])%2===0&&(i[d]=(i[d]||0)+6/f,i[x]=(i[x]||0)+18/f))):i[d]=(i[d]||0)+100/f:2===u?f===F-1?(-1!==v&&0===z[v]&&(i[v]=(i[v]||0)+100/f),-1!==x&&0===z[x]&&(i[x]=(i[x]||0)+100/f)):f===F-2?(-1!==v&&0===z[v]&&-1!==k&&0===z[k]&&(i[v]=(i[v]||0)+18/f,i[k]=(i[k]||0)+18/f),-1!==x&&0===z[x]&&-1!==M&&0===z[M]&&(i[x]=(i[x]||0)+18/f,i[M]=(i[M]||0)+18/f)):f===F-3&&(-1===k||0===z[k]||-1===M||0===z[M])&&(0===z[v]&&-1!==k&&(0===z[k]?-1!==_&&(0===z[_]?(i[v]=(i[v]||0)+8/f,i[k]=(i[k]||0)+8/f):(P-z[_])%2===0?(i[v]=(i[v]||0)+36/f,i[k]=(i[k]||0)+30/f):i[v]=(i[v]||0)+8/f):i[v]=(i[v]||0)+6/f),0===z[x]&&-1!==M&&(0===z[M]?-1!==A&&(0===z[A]?(i[x]=(i[x]||0)+8/f,i[M]=(i[M]||0)+8/f):(P-z[A])%2===0?(i[x]=(i[x]||0)+36/f,i[M]=(i[M]||0)+30/f):i[x]=(i[x]||0)+8/f):i[x]=(i[x]||0)+6/f)):3===u?F-1>f?f===F-2?(i[d]=(i[d]||0)+18/f,1===Z&&0===z[v]&&(-1!==k?0===z[k]?i[v]=(i[v]||0)+18/f:(P-z[k])%2===1&&(i[v]=(i[v]||0)+6/f):i[v]=(i[v]||0)+6/f),2===Z&&0===z[x]&&(-1!==M?0===z[M]?i[x]=(i[x]||0)+18/f:(P-z[M])%2===1&&(i[x]=(i[x]||0)+6/f):i[x]=(i[x]||0)+6/f)):f===F-3&&(-1!==v&&0===z[v]&&-1!==k&&0!==z[k]&&(P-z[k])%2===0&&(i[d]=(i[d]||0)+10/f,i[v]=(i[v]||0)+10/f),-1!==x&&0===z[x]&&-1!==M&&0!==z[M]&&(P-z[M])%2===0&&(i[d]=(i[d]||0)+10/f,i[x]=(i[x]||0)+10/f)):i[d]=(i[d]||0)+100/f:5===u&&(F-1>f||(i[d]=(i[d]||0)+100/f))}var nt=Object.keys(i),tt=nt.length,et=Array(tt);for(l=0;tt>l;l++)et[l]={p:nt[l],n:i[nt[l]]},p[nt[l]]|=i[nt[l]];for(et.sort(function(n,t){return t.n-n.n||n.p-t.p}),l=P-3;l>=0;l-=2)for(var rt,ot,it,at=J[l],ct=c(at,2),V=0;V<ct.length;V++)rt=ct[V].p,ot=ct[V].dx,it=ct[V].dy,0===z[rt]&&(1===ot&&1===it?a[rt]=(a[rt]||0)+.2:it+ot===1?a[rt]=(a[rt]||0)+.1:it+ot===2?a[rt]=(a[rt]||0)+.01:it+ot===3&&(a[rt]=(a[rt]||0)+.02));var pt=Object.keys(a),lt=pt.length,st=Array(lt);for(l=0;lt>l;l++)st[l]={p:pt[l],n:a[pt[l]]},a[pt[l]]>0&&(p[pt[l]]=(p[pt[l]]||0)+a[pt[l]]);st.sort(function(n,t){return t.n-n.n||n.p-t.p});var dt=Object.keys(p),ht=dt.length,ut=[];for(0===ht&&(c(J[P-2],2).forEach(function(n){0===z[n.p]&&(1===n.dx&&1===n.dy?p[n.p]=(p[n.p]||0)+.2:n.dy+n.dx===1?p[n.p]=(p[n.p]||0)+.1:n.dy+n.dx===2?p[n.p]=(p[n.p]||0)+.01:n.dy+n.dx===3&&(p[n.p]=(p[n.p]||0)+.02))}),dt=Object.keys(p),ht=dt.length),l=0;ht>l;l++)p[dt[l]]>0&&ut.push({p:dt[l],n:p[dt[l]]});return ut.sort(function(n,t){return t.n-n.n||n.p-t.p}),[Y,et,st,ut]}function l(n){var t=void 0===n?p():n,e=[];if(t[3].length>0){e.push(t[3][0]);for(var r=1;r<t[3].length&&Math.floor(t[3][r].n)>=Math.floor(e[0].n);r++)e.push(t[3][r])}return e}function s(n,t){return t=void 0===t?P:t,n>0&&!H?l().map(function(e){var r,o,a,c=+e.p%B,d=(+e.p-c)/B,h=b(),u=0,f=0,g=0;return z[+e.p]=P,J[P-1]=+e.p,i(c,d),P+=1,a=p(),S[+e.p]<F||(L=(P-1)%2,H=!0),P===I&&(H=!0),r=b(),Object.keys(T).forEach(function(n){T[n].forEach(function(e){Math.abs(t-z[n])%2===0?0===e.t?e.n===F?f+=1e3/e.n:e.n===F-1?f+=80/e.n:e.n===F-2?f+=24/e.n:e.n===F-3&&(f+=6/e.n):1===e.t?e.n<F-1?e.n===F-2?f+=18/e.n:e.n===F-3&&(f+=6/e.n):f+=40/e.n:2===e.t?e.n===F?f+=1e3/e.n:e.n===F-1?f+=40/e.n:e.n===F-2&&(f+=6/e.n):3===e.t?e.n===F?f+=1e3/e.n:e.n===F-1?f+=40/e.n:e.n===F-2&&(f+=3/e.n):4===e.t?e.n===F&&(f+=1e3/e.n):5===e.t&&(e.n<F-1||(f+=40/e.n)):0===e.t?e.n===F?g-=1e3/e.n:e.n===F-1?g-=80/e.n:e.n===F-2?g-=24/e.n:e.n===F-3&&(g-=6/e.n):1===e.t?e.n<F-1?e.n===F-2?g-=18/e.n:e.n===F-3&&(g-=6/e.n):g-=40/e.n:2===e.t?e.n===F?g-=1e3/e.n:e.n===F-1?g-=40/e.n:e.n===F-2&&(g-=6/e.n):3===e.t?e.n===F?g-=1e3/e.n:e.n===F-1?g-=40/e.n:e.n===F-2&&(g-=3/e.n):4===e.t?e.n===F&&(g-=1e3/e.n):5===e.t&&(e.n<F-1||(g-=40/e.n))})}),u=(P-t)%2===1?a[3].reduce(function(n,t){return n+Math.floor(t.n)},0):-a[3].reduce(function(n,t){return n+Math.floor(t.n)},0),o=l(a).length<10?{p:+e.p,c:r,h:s(n-1,t),s:u,s2:f,s3:g}:{p:+e.p,c:r,h:[],s:u,s2:f,s3:g},m(h),o}):[]}function d(n){var t=[];return n.forEach(function(n){var e=d(n.h);e.length>0?e.forEach(function(e){t.push([[n.p].concat(e[0]),n.s+e[1],n.s2+e[2],n.s3+e[3]])}):t.push([[n.p],n.s,n.s2,n.s3])}),t}function h(){if(!H){if(1===P)t(Math.ceil(B/2),Math.ceil(O/2));else{for(var n=d(s(6)).sort(function(n,t){return t[3]-n[3]||t[2]-n[2]||t[1]-n[1]}),e={},r=[],o=0;o<n.length&&k(n[o][3])+k(n[o][2])<=k(n[0][3])+k(n[0][2])+2;o++)e[n[o][0][0]]=(e[n[o][0][0]]||0)+1;Object.keys(e).reduce(function(n,t){return e[t]>n?(r=[t],e[t]):(e[t]===n&&r.push(t),n)},0);var i=+r[Math.min(Math.floor(Math.random()*r.length),r.length-1)],a=i%B,c=(i-a)/B;t(a,c)}C(),N(),M()}}function u(n){H=!0,L=n,console.log("Player",n+1,"wins.")}function f(){H=!0,console.log("Tie")}function g(){return JSON.stringify({w:B,h:O,d:Array.prototype.slice.call(J,0,P-1)})}function v(n){try{var e=JSON.parse(n);y(e.w,e.h);for(var r=0;r<e.d.length;r++){var o=e.d[r]%e.w,i=(e.d[r]-o)/e.w;t(o,i)}}catch(a){console.log(a)}}function b(){var n={};return n.cur=P,n.end=H,n.wp=L,n.hist=new Uint16Array(I),n.hist.set(J),n.map=new Uint16Array(I),n.map.set(z),n.cm=new Uint16Array(I),n.cm.set(S),n.pps={},Object.keys(T).forEach(function(t){n.pps[t]=[],T[t].forEach(function(e){n.pps[t].push({t:e.t,n:e.n,p:e.p.slice(),d:e.d})})}),n}function m(n){P=n.cur,H=n.end,L=n.wp,J=n.hist,z=n.map,S=n.cm,T=n.pps,n=null}function x(){var n=Array.prototype.slice.call(J,0,P-2),e=B,r=n;y(e,r);for(var o=0;o<n.length;o++){var i=n[o]%B,a=(n[o]-i)/B;t(i,a)}}function y(n,t){n=isFinite(n)?+n:D,t=isFinite(t)?+t:R,B=F+2>n?F+2:n>256?256:n,O=F+2>t?F+2:t>256?256:t,I=B*O,P=1,z=new Uint16Array(I),J=new Uint16Array(I),S=new Uint16Array(I),T={},L=void 0,H=!1}function E(){for(var n=document.getElementsByClassName("hint");n.length;)n[0].title="",n[0].className="point"}function k(n){return 80>n?64>n?48>n?40>n?28>n?24>n?16>n?10>n?6>n?0>n?0:10:9:8:7:6:5:4:3:2:1}function w(){E();for(var n,t=p(),e=document.getElementsByClassName("point"),r=(Math.min.apply(null,t[3].map(function(n){return k(n.n)||1/0})),11),o=0;o<t[3].length;o++)n=k(t[3][o].n),n>0&&r>n?(e[t[3][o].p].className="point hint r"+n,e[t[3][o].p].title="R"+k(t[3][o].n)+"("+Math.floor(t[3][o].n)+")"):e[t[3][o].p].className="point hint";for(var o=0;o<t[0].length;o++)n=k(t[0][o].n),r>n&&(e[t[0][o].p].className+=" def");for(var o=0;o<t[1].length;o++)n=k(t[1][o].n),r>n&&(e[t[1][o].p].className+=" atk")}function N(){for(var n=document.getElementsByClassName("last");n.length>0;)n[0].className=n[0].className.replace(/(?:^|\s+)last(?:\s+|$)/g,"")}function M(){var n=document.getElementsByClassName("point");n[J[P-2]].className+=" last"}function C(){for(var n=document.getElementsByClassName("point"),t=0;t<n.length;t++){var e=n[t].dataset.p;z[e]>0?(n[e].className="point p"+((z[e]-1)%2+1),n[e].title=z[e],n[e].removeEventListener("click",_)):(n[e].className="point",n[e].title="",n[e].addEventListener("click",_)),n[t].firstChild.className=S[e]>0?"cir c"+Math.min(S[e],5):"cir",H&&n[t].removeEventListener("click",_)}H?(document.getElementById("dg_"+A).className="",alert(void 0===L?"It`s a tie.":"Player "+(L+1)+" wins.")):document.getElementById("dg_"+A).className="active p"+((P-1)%2+1)}function U(n){n.removeEventListener("click",_),n.className="point p"+((P-1)%2+1),n.title=P,t(+n.dataset.x,+n.dataset.y);for(var e=document.getElementsByClassName("point"),r=0;r<e.length;r++){var o=e[r].dataset.p;e[r].firstChild.className=S[o]>0?"cir c"+Math.min(S[o],5):"cir",H&&e[r].removeEventListener("click",_)}return n}function _(n){0===n.button&&(n.preventDefault(),U(this),E(),N(),M(),H?(document.getElementById("dg_"+A).className="",alert(void 0===L?"It`s a tie.":"Player "+(L+1)+" wins.")):document.getElementById("dg_"+A).className="active p"+((P-1)%2+1))}function j(n,t,e){var r=document.createElement("div"),o=document.createElement("style"),i=(document.createElement("style"),document.getElementById("gs_"+A)),a=document.getElementById("dg_"+A);a&&a.parentNode.removeChild(a),i&&i.parentNode.removeChild(i),y(t,e),r.id="dg_"+A,o.id="gs_"+A,o.innerHTML="#dg_"+A+" { width: "+22*B+"px; height: "+22*O+"px; display: inline-block; box-sizing: border-box; } #dg_"+A+".active.p1 .point { background-color: #FFE6E6;}#dg_"+A+".active.p2 .point { background-color: #E6E6FF;}.point { background-color: #EEE; width: 20px; height: 20px; float: left; line-height: 20px; font-size: 12px; text-align: center; padding: 1px; position: relative; overflow: hidden; } .point > .cir { width: 20px; height: 20px; border-radius: 10px; z-index: 10; position: absolute; top: 1px; left: 1px; } .active.p1 .point > .cir:hover,.active.p1 .point.hint > .cir:hover { background-color: #FF1010; cursor: pointer; box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3); } .active.p2 .point > .cir:hover,.active.p2 .point.hint > .cir:hover { background-color: #1010FF; cursor: pointer; box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3); } .p1 > .cir,.active .p1.point > .cir:hover { background-color: #E6A1A1; cursor: default; box-shadow: inset 0 0 22px rgba(200, 40, 40, 0.6); } .p2 > .cir,.active .p2.point > .cir:hover { background-color: #A1A1E6; cursor: default; box-shadow: inset 0 0 22px rgba(40, 40, 200, 0.6); } .bo { display: none; position: absolute; width: 15px; height: 15px; box-shadow: inset 0 0 2px #111; } .l1 { display: block; top: -4px; left: -4px; } .l2 { display: block; top: -4px; right: -4px; } .l3 { display: block; bottom: -4px; left: -4px; } .l4 { display: block; bottom: -4px; right: -4px; } .p1.point > .cir.c3,.active .p1.point > .cir.c3:hover { background-color: #E65C5C; } .p1.point > .cir.c4,.active .p1.point > .cir.c4:hover { background-color: #E62E2E; } .p1.point > .cir.c5,.active .p1.point > .cir.c5:hover { background-color: #FE0101; } .p2.point > .cir.c3,.active .p2.point > .cir.c3:hover { background-color: #5C5CE6; } .p2.point > .cir.c4,.active .p2.point > .cir.c4:hover { background-color: #2E2EE6; } .p2.point > .cir.c5,.active .p2.point > .cir.c5:hover { background-color: #0101FE; }.active .point.hint > .cir { box-sizing: border-box; border: 1px solid rgba(255,255,255,0); }.active .point.hint.def > .cir { border: 1px solid rgba(50,200,200,0.8); box-shadow: inset 0 0 10px rgba(50, 200, 200, 0.2); }.active .point.hint.atk > .cir { border: 1px solid rgba(200,200,50,0.8); box-shadow: inset 0 0 10px rgba(200, 200, 50, 0.2); }.active .point.hint.def.atk > .cir { border: 1px solid rgba(0,100,0,0.95); box-shadow: inset 0 0 20px rgba(0, 200, 0, 0.8); }.active .point.hint.r1 > .cir { background-color: rgba(0,0,0,0.95); }.active .point.hint.r2 > .cir { background-color: rgba(33,33,33,0.9); }.active .point.hint.r3 > .cir { background-color: rgba(66,66,66,0.85); }.active .point.hint.r4 > .cir { background-color: rgba(100,100,100,0.8); }.active .point.hint.r5 > .cir { background-color: rgba(125,125,125,0.75); }.active .point.hint.r6 > .cir { background-color: rgba(150,150,150,0.7); }.active .point.hint.r7 > .cir { background-color: rgba(175,175,175,0.65); }.active .point.hint.r8 > .cir { background-color: rgba(200,200,200,0.6); }.active .point.hint.r9 > .cir { background-color: rgba(225,225,225,0.55); }.active .point.hint.r10 > .cir { background-color: rgba(250,250,250,0.5); }.active .point.last.p1 > .cir,.active .point.last.p1 > .cir:hover { box-sizing: border-box; border: 1px solid rgba(100, 0, 0, 0.6); box-shadow: inset 0 0 22px rgba(200, 0, 0, 1); }.active .point.last.p2 > .cir,.active .point.last.p2 > .cir:hover { box-sizing: border-box; border: 1px solid rgba(0, 0, 100, 0.6); box-shadow: inset 0 0 22px rgba(0, 0, 200, 1); }";for(var c=0;O>c;c++){for(var p=document.createElement("div"),l=0;B>l;l++){var s=document.createElement("div");s.dataset.p=l+c*B,s.className="point",s.dataset.x=l,s.dataset.y=c,s.addEventListener("click",_),s.appendChild(document.createElement("div")),s.firstChild.className="cir",s.appendChild(document.createElement("div")),s.lastChild.className="bo"+(0===l||0===c?"":" l1"),s.appendChild(document.createElement("div")),s.lastChild.className="bo"+(l===B-1||0===c?"":" l2"),s.appendChild(document.createElement("div")),s.lastChild.className="bo"+(0===l||c===O-1?"":" l3"),s.appendChild(document.createElement("div")),s.lastChild.className="bo"+(l===B-1||c===O-1?"":" l4"),p.appendChild(s)}p.appendChild(document.createElement("div")),p.lastChild.style.clear="both",r.appendChild(p)}r.className="active p1",r.onmousedown=function(n){n.preventDefault()},n?n.appendChild(r):document.body.appendChild(r),document.body.appendChild(o)}n=void 0===n?{}:{oldP5g:n};var L,A=Math.round(1e7*Math.random()),F=5,D=32,R=32,B=D,O=R,I=B*O,P=1,z=new Uint16Array(I),J=new Uint16Array(I),S=new Uint16Array(I),T={},H=!1,$={U:{x:0,y:-1},UR:{x:1,y:-1},R:{x:1,y:0},RD:{x:1,y:1},D:{x:0,y:1},DL:{x:-1,y:1},L:{x:-1,y:0},LU:{x:-1,y:-1}},q=["LU","L","UR","U"],G=["RD","R","DL","D"],K=q.concat(G);return $.U.r=$.D,$.UR.r=$.DL,$.R.r=$.L,$.RD.r=$.LU,$.D.r=$.U,$.DL.r=$.UR,$.L.r=$.R,$.LU.r=$.RD,n.pps=function(){return T},Object.defineProperty(n,"id",{value:"dg_"+A}),n.hint=p,n.place=t,n.reset=y,n.save=g,n.load=v,n.cache=b,n.load_cache=m,n.redo=x,n.refresh_dom=C,n.refresh_hint=w,n.clear_hint=E,n.clear_last=N,n.last_hint=M,n.create_dom=j,n.ap=h,n.point_predict=s,n.score_predict=d,n.prior_point=l,n}(P5g);
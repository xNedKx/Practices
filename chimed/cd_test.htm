<!doctype html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz' rel='stylesheet' type='text/css'>
<style>
body{
font-size:15px;
margin:0;
padding:0;
}
div.all{
max-width:420px;
margin:0 auto;
overflow:hidden;
}
h1{
margin:0;
padding-top:6px;
top:0;
font-size:20px;
background-color:#4466E0;
height:2em;
font-weight:100;
text-align:center;
color:#F6F6C9;
letter-spacing:1.1em;
padding-left:1.1em;
}
h3{
margin:0;
padding:0;
font-size:15px;
font-weight:100;
border:1px solid #E4E4E4;
border-top:0;
border-bottom:0;
}
h2{
margin:0;
padding:4px 0;
font-size:24px;
padding-left:20px;
background-color:#6699FF;
border-radius:2px;
letter-spacing:0.05em;
}
div.b{
background-color:#66F090;
float:left;
height:240px;
width:17%;
border-radius:2px;
display:table;
color:#705060;
cursor:pointer;
}
div.b:hover{
text-shadow: 0 0 6px rgba(0,0,0,0.2);
color:#402030;
}
div.blank{
height:240px;
position:absolute;
background-color:rgba(0,0,0,0);
}
div.bw{
display:table-cell;
vertical-align:middle;
text-align:center;
font-size:20px;
cursor:pointer;
}
div.select{
float:left;
height:232px;
width:64%;
padding:1%;
line-height:29px;
font-size:18px;
margin:0;
}
div.result{
clear:both;
height:60px;
width:480px;
background-color:#4D4D4D;
color:#F0F0F0;
display:table;
}
div.result p{
padding-left:20px;
font-size:20px;
display:table-cell;
vertical-align:middle;
}
div.option{
border:1px solid #E4E4E4;
border-bottom:0;
height:24px;
}
div.option div{
float:left;
padding:1px 20px 1px 0;
}
div.stastics{
border:1px solid #E4E4E4;
border-top:0;
clear:both;
}
label{
cursor:pointer;
}
label:hover{
text-shadow: 0 0 2px rgba(0,0,0,0.3);
}
footer{
text-align:center;
width: 100%;
z-index: -1;
font-size: 1em;
color: #CCC;
font-family: 'Yanone Kaffeesatz', sans-serif;
cursor:default;
}
</style>
<script>
//data[n][0]=>大類 data[n][1]=>小類 data[n][2]=>名稱 n=>編號 0-(data.length-1)
data=[
["解表","辛溫","麻黃"],
["解表","辛溫","桂枝"],
["解表","辛溫","紫蘇"],
["解表","辛溫","生薑"],
["解表","辛溫","荊芥"],
["解表","辛溫","防風"],
["解表","辛溫","羌活"],
["解表","辛溫","白芷"],
["解表","辛溫","辛夷"],
["解表","辛溫","蒼耳子"],
["解表","辛溫","香薷"],
["解表","辛溫","蔥白"],
["解表","辛涼","薄荷"],
["解表","辛涼","牛蒡子"],
["解表","辛涼","桑葉"],
["解表","辛涼","菊花"],
["解表","辛涼","柴胡"],
["解表","辛涼","葛根"],
["解表","辛涼","升麻"],
["解表","辛涼","蟬蛻"],
["解表","辛涼","豆豉"],
["清熱","瀉火","石膏"],
["清熱","瀉火","知母"],
["清熱","瀉火","梔子"],
["清熱","瀉火","淡竹葉"],
["清熱","瀉火","天花粉"],
["清熱","瀉火","蘆根"],
["清熱","瀉火","夏枯草"],
["清熱","瀉火","密蒙花"],
["清熱","解毒","金銀花"],
["清熱","解毒","連翹"],
["清熱","解毒","大青葉"],
["清熱","解毒","板藍根"],
["清熱","解毒","射干"],
["清熱","解毒","青黛"],
["清熱","解毒","山豆根"],
["清熱","解毒","蒲公英"],
["清熱","解毒","紫花地丁"],
["清熱","解毒","白頭翁"],
["清熱","解毒","白花蛇舌草"],
["清熱","解毒","秦皮"],
["清熱","解毒","白蘚皮"],
["清熱","解毒","魚腥草"],
["清熱","解毒","綠豆衣"],
["清熱","解毒","牛黃"],
["清熱","解毒","熊膽"],
["清熱","燥濕","黃芩"],
["清熱","燥濕","黃連"],
["清熱","燥濕","黃柏"],
["清熱","燥濕","龍膽草"],
["清熱","燥濕","苦參"],
["清熱","涼血","生地"],
["清熱","涼血","犀角"],
["清熱","涼血","丹皮"],
["清熱","涼血","玄參"],
["清熱","涼血","赤芍"],
["清熱","涼血","紫草"],
["清熱","清虛熱","地骨皮"],
["清熱","清虛熱","青蒿"],
["清熱","清虛熱","白薇"],
["清熱","清虛熱","銀柴胡"],
["清熱","清虛熱","胡黃連"],
["瀉下","攻下","大黃"],
["瀉下","攻下","芒硝"],
["瀉下","攻下","番瀉葉"],
["瀉下","攻下","蘆薈"],
["瀉下","潤下","火麻仁"],
["瀉下","潤下","郁李仁"],
["瀉下","峻下","干遂"],
["瀉下","峻下","大戟"],
["瀉下","峻下","芫花"],
["瀉下","峻下","巴豆"],
["瀉下","峻下","牽牛子"],
["瀉下","峻下","商陸"],
["除濕","祛風","獨活"],
["除濕","祛風","防己"],
["除濕","祛風","秦艽"],
["除濕","祛風","威靈仙"],
["除濕","祛風","木瓜"],
["除濕","祛風","桑枝"],
["除濕","祛風","桑寄生"],
["除濕","祛風","絡石藤"],
["除濕","祛風","五加皮"],
["除濕","祛風","徐長卿"],
["除濕","祛風","海桐皮"],
["除濕","祛風","蠶砂"],
["除濕","祛風","蛇蛻"],
["除濕","祛風","虎骨"],
["除濕","芳香","蒼朮"],
["除濕","芳香","厚朴"],
["除濕","芳香","藿香"],
["除濕","芳香","砂仁"],
["除濕","芳香","草果"],
["除濕","芳香","白荳蔻"],
["除濕","芳香","草荳蔻"],
["除濕","芳香","佩蘭"],
["除濕","利水","茯苓"],
["除濕","利水","豬苓"],
["除濕","利水","澤瀉"],
["除濕","利水","薏仁"],
["除濕","利水","木通"],
["除濕","利水","車前子"],
["除濕","利水","石葦"],
["除濕","利水","茵陳蒿"],
["除濕","利水","萆薢"],
["除濕","利水","地膚子"],
["除濕","利水","赤小豆"],
["除濕","利水","萹蓄"],
["除濕","利水","瞿麥"],
["除濕","利水","燈心草"],
["除濕","利水","通草"],
["溫裡","溫裡","附子"],
["溫裡","溫裡","烏頭"],
["溫裡","溫裡","乾薑"],
["溫裡","溫裡","肉桂"],
["溫裡","溫裡","小茴香"],
["溫裡","溫裡","吳茱萸"],
["溫裡","溫裡","細辛"],
["溫裡","溫裡","丁香"],
["溫裡","溫裡","高良薑"],
["溫裡","溫裡","花椒"],
["溫裡","溫裡","胡椒"],
["理氣","理氣","陳皮"],
["理氣","理氣","枳實"],
["理氣","理氣","枳殼"],
["理氣","理氣","木香"],
["理氣","理氣","香附"],
["理氣","理氣","烏藥"],
["理氣","理氣","沉香"],
["理氣","理氣","川楝子"],
["理氣","理氣","薤白"],
["理氣","理氣","檀香"],
["理氣","理氣","刀豆"],
["理氣","理氣","荔枝核"],
["理氣","理氣","玫瑰"],
["消食","消食","山楂"],
["消食","消食","神麴"],
["消食","消食","麥芽"],
["消食","消食","萊服子"],
["消食","消食","雞內金"],
["消食","消食","穀芽"],
["驅蟲","驅蟲","檳榔"],
["驅蟲","驅蟲","大腹皮"],
["驅蟲","驅蟲","苦楝皮"],
["驅蟲","驅蟲","使君子"],
["驅蟲","驅蟲","鶴虱子"],
["驅蟲","驅蟲","雷丸"],
["驅蟲","驅蟲","蕪荑"],
["驅蟲","驅蟲","貫眾"],
["理血","活血","川芎"],
["理血","活血","紅花"],
["理血","活血","桃仁"],
["理血","活血","丹參"],
["理血","活血","益母草"],
["理血","活血","雞血藤"],
["理血","活血","牛膝"],
["理血","活血","延胡索"],
["理血","活血","五靈脂"],
["理血","活血","乳香"],
["理血","活血","沒藥"],
["理血","活血","虎杖"],
["理血","活血","三稜"],
["理血","活血","莪朮"],
["理血","活血","鬱金"],
["理血","活血","薑黃"],
["理血","活血","穿山甲"],
["理血","活血","銅"],
["理血","活血","王不留行"],
["理血","活血","蘇木"],
["理血","活血","乾漆"],
["理血","活血","盲蟲"],
["理血","活血","水蛭"],
["理血","活血","茺蔚子"],
["理血","止血","三七"],
["理血","止血","槐花"],
["理血","止血","蒲黃"],
["理血","止血","柏葉"],
["理血","止血","白芨"],
["理血","止血","茜草"],
["理血","止血","地榆"],
["理血","止血","大小薊"],
["理血","止血","藕節"],
["理血","止血","艾葉"],
["理血","止血","苧麻根"],
["理血","止血","白茅根"],
["理血","止血","棕櫚炭"],
["理血","止血","仙鶴草"],
["理血","止血","灶心土"],
["止咳","化痰","半夏"],
["止咳","化痰","竹茹"],
["止咳","化痰","貝母"],
["止咳","化痰","桔梗"],
["止咳","化痰","瓜蔞"],
["止咳","化痰","皂角刺"],
["止咳","化痰","前胡"],
["止咳","化痰","南星"],
["止咳","化痰","白前"],
["止咳","化痰","竺黃"],
["止咳","化痰","旋覆花"],
["止咳","化痰","白芥子"],
["止咳","化痰","白附子"],
["止咳","化痰","海蛤粉"],
["止咳","化痰","海藻"],
["止咳","化痰","昆布"],
["止咳","化痰","礞石"],
["止咳","化痰","黃藥子"],
["止咳","化痰","胖大海"],
["止咳","化痰","豬膽汁"],
["止咳","平喘","杏仁"],
["止咳","平喘","蘇子"],
["止咳","平喘","桑白皮"],
["止咳","平喘","葶藶子"],
["止咳","平喘","白果"],
["止咳","平喘","款冬"],
["止咳","平喘","紫苑"],
["止咳","平喘","百部"],
["止咳","平喘","枇杷葉"],
["止咳","平喘","馬兜鈴"],
["安神","安神","遠志"],
["安神","安神","酸棗仁"],
["安神","安神","柏子仁"],
["安神","安神","龍骨"],
["安神","安神","琥珀"],
["安神","安神","硃砂"],
["安神","安神","磁石"],
["安神","安神","合歡皮"],
["平肝","熄風","天麻"],
["平肝","熄風","鉤藤"],
["平肝","熄風","牡蠣"],
["平肝","熄風","全蠍"],
["平肝","熄風","殭蠶"],
["平肝","熄風","地龍"],
["平肝","熄風","羚羊角"],
["平肝","熄風","決明子"],
["平肝","熄風","石決明"],
["平肝","熄風","珍珠"],
["平肝","熄風","刺蒺藜"],
["平肝","熄風","代赭石"],
["開竅","開竅","麝香"],
["開竅","開竅","冰片"],
["開竅","開竅","蘇合香"],
["開竅","開竅","石菖蒲"],
["補養","補氣","人參"],
["補養","補氣","西洋參"],
["補養","補氣","黨參"],
["補養","補氣","黃耆"],
["補養","補氣","甘草"],
["補養","補氣","白朮"],
["補養","補氣","山藥"],
["補養","補氣","扁豆"],
["補養","補氣","大棗"],
["補養","補氣","飴糖"],
["補養","補氣","蜂蜜"],
["補養","補陽","補骨脂"],
["補養","補陽","骨碎補"],
["補養","補陽","杜仲"],
["補養","補陽","續斷"],
["補養","補陽","鹿角"],
["補養","補陽","巴戟天"],
["補養","補陽","肉蓯蓉"],
["補養","補陽","淫羊藿"],
["補養","補陽","菟絲子"],
["補養","補陽","紫河車"],
["補養","補陽","葫蘆巴"],
["補養","補陽","狗脊"],
["補養","補陽","仙茅"],
["補養","補陽","益智仁"],
["補養","補陽","冬蟲夏草"],
["補養","補陽","胡桃"],
["補養","補陽","蛤蚧"],
["補養","補陽","鎖陽"],
["補養","補血","當歸"],
["補養","補血","熟地"],
["補養","補血","白芍"],
["補養","補血","阿膠"],
["補養","補血","龍眼"],
["補養","補血","何首烏"],
["補養","補血","夜交藤"],
["補養","補陰","沙參"],
["補養","補陰","麥冬"],
["補養","補陰","天冬"],
["補養","補陰","枸杞"],
["補養","補陰","桑椹"],
["補養","補陰","百合"],
["補養","補陰","石斛"],
["補養","補陰","玉竹"],
["補養","補陰","龜板"],
["補養","補陰","鱉甲"],
["補養","補陰","女貞子"],
["補養","補陰","旱蓮草"],
["補養","補陰","芝麻"],
["補養","補陰","黃精"],
["收澀","收澀","五味子"],
["收澀","收澀","五倍子"],
["收澀","收澀","山茱萸"],
["收澀","收澀","桑螵蛸"],
["收澀","收澀","肉豆蔻"],
["收澀","收澀","烏賊骨"],
["收澀","收澀","芡實"],
["收澀","收澀","蓮子"],
["收澀","收澀","訶子"],
["收澀","收澀","烏梅"],
["收澀","收澀","覆盆子"],
["收澀","收澀","金櫻子"],
["收澀","收澀","赤石脂"],
["收澀","收澀","禹餘糧"],
["收澀","收澀","椿皮"],
["收澀","收澀","浮小麥"],
["收澀","收澀","麻黃根"],
["收澀","收澀","罌粟殼"],
["收澀","收澀","刺蝟皮"],
["湧吐","湧吐","瓜蒂"],
["湧吐","湧吐","藜蘆"],
["湧吐","湧吐","常山"],
["湧吐","湧吐","膽礬"],
["外用","外用","硫磺"],
["外用","外用","雄黃"],
["外用","外用","鉛丹"],
["外用","外用","輕粉"],
["外用","外用","爐甘石"],
["外用","外用","明礬"],
["外用","外用","蛇床子"],
["外用","外用","露蜂房"],
["外用","外用","血竭"],
["外用","外用","絲瓜絡"]
];
q=["[請選出正確的類別]","[請選出合適的藥名]"];
o=[];
a=0;
n=8;//max:31
an=0;
g="";
qa=0;
qat="";
ar=[];
qt=0;
ans=[[],[]];
list=[];
sh=0;
d2=[[],[]];
for(j=0;j<data.length;j++){
		d2[0][j]=j;
		d2[1][j]=j;
}
function seto(o){
		for(k=0;k<document.getElementsByName("a").length;k++){
				document.getElementById("a"+k).innerHTML=o[k];
				document.getElementsByName("a")[k].checked=false;
		}
		document.getElementById("r").innerHTML="";
}
function qc(){
		document.getElementById("q").innerHTML=q[qt];
		an=n;
		o=[];
		ar=[];
		list=[];
		qa=d2[qt][Math.floor(Math.random()*d2[qt].length)];
		a=Math.floor(Math.random()*n);
		switch(qt){
		case 0:
				while(o.length<n){
						if(o.length==a){
								qat="<b>"+data[qa][0]+"</b>藥中的<b>"+data[qa][1]+"</b>藥";
								o.push(qat);
								list.push(qa);
						}else{
								tmp=Math.floor(Math.random()*data.length);
								x=true;
								for(i=0;i<o.length;i++){
										if((data[tmp][0]==data[list[i]][0] && data[tmp][1]==data[list[i]][1])){
												x=false;
												break;
										}
								}
								if(data[tmp][0]==data[qa][0] && data[tmp][1]==data[qa][1]){
										x=false;
								}
								if(x){
										o.push("<b>"+data[tmp][0]+"</b>藥中的<b>"+data[tmp][1]+"</b>藥");
										list.push(tmp);
								}
						}
				}
				document.getElementById("qt").innerHTML="<b>"+data[qa][2]+"</b>是?";
				seto(o);
		break;
		case 1:
				while(o.length<n){
						if(o.length==a){
								qat="<b>"+data[qa][2]+"</b>";
								o.push(qat);
								list.push(qa);
								ar.push(data[qa][2]+"是<b>"+data[qa][0]+"</b>藥中的<b>"+data[qa][1]+"</b>藥");
						}else{
								tmp=Math.floor(Math.random()*data.length);
								x=true;
								for(i=0;i<o.length;i++){
										if((data[tmp][0]==data[list[i]][0] && data[tmp][1]==data[list[i]][1])){
												x=false;
												break;
										}
								}
								if(data[tmp][0]==data[qa][0] && data[tmp][1]==data[qa][1]){
										x=false;
								}
								if(x){
										o.push("<b>"+data[tmp][2]+"</b>");
										ar.push(data[tmp][2]+"是<b>"+data[tmp][0]+"</b>藥中的<b>"+data[tmp][1]+"</b>藥");
										list.push(tmp);
								}
						}
				}
				document.getElementById("qt").innerHTML="以下何者是<b>"+data[qa][0]+"</b>藥中的<b>"+data[qa][1]+"</b>藥?";
				seto(o);
		break;
		}
}
function check(an){
		if(an==a){
				document.getElementById("r").innerHTML="正確！";
				if(typeof(ar[an])=="undefined"){
						if(d2[0].indexOf(qa)!=-1){
								d2[0].splice(d2[0].indexOf(qa),1);
						}
						ans[0][qa]=1;
						if(d2[0].length==0){
								for(j=0;j<data.length;j++){
										d2[0][j]=j;
								}
						}
				}else{
						if(d2[1].indexOf(qa)!=-1){
								d2[1].splice(d2[1].indexOf(qa),1);
						}
						ans[1][qa]=1;
						if(d2[1].length==0){
								for(j=0;j<data.length;j++){
										d2[1][j]=j;
								}
						}
				}
		}else if(an>=n || an<0){
				document.getElementById("r").innerHTML="請選擇。";
		}else if(typeof(ar[an])!="undefined"){
				document.getElementById("r").innerHTML="<span style='color:#F38765;'>錯誤。</span>"+(sh?(" 答案是<b>"+qat+"</b>。<br>"+ar[an]+"。"):"");
				ans[1][qa]=0;
		}else{
				document.getElementById("r").innerHTML="<span style='color:#F38765;'>錯誤。</span>"+(sh?(" 答案是"+qat):"");
				ans[0][qa]=0;
		}
		getn();
}
function getn(){
		document.getElementById("q0").innerHTML=ans[0].join("").replace(/0/g,"").length+"/"+ans[0].join("").length+"/"+data.length;
		document.getElementById("q1").innerHTML=ans[1].join("").replace(/0/g,"").length+"/"+ans[1].join("").length+"/"+data.length;
}
</script>
<title>中藥類別小測驗</title>
</head>
<body>
<div class="all">
<div class="title"><h1>中藥類別小測驗</h1></div>
<div class="question">
<h3>問: <span id="q">[請選出正確的類別]</span></h3>
<h2><span id="qt">題目</span><br></h2>
</div>
<div class="answer">
<div class="b" onclick="check(an);" id="h0"><div class="blank" id="h1"></div><div class="bw"><b>確<br><br>定</b></div></div>
</div>
<div class="select" id="sel"></div>
<div class="next">
<div class="b" onclick="qc();" id="h2"><div class="blank" id="h3"></div><div class="bw"><b>下<br>一<br>題</b></div></div>
</div>
<div class="result">
<p id="r"></p>
</div>
<div class="option">
<div><label><input type="radio" id="t1" name="t" value="0" onclick="qt=0;" checked>以名稱出題</label></div>
<div><label><input type="radio" id="t2" name="t" value="1" onclick="qt=1;">以類別出題</label></div>
<div><label><input type="checkbox" id="show" onchange="sh=document.getElementById('show').checked==1?1:0;sh==1?check(an):null;">顯示答案</label></div>
</div>
<div class="stastics">
回答率(正確/已答/全部)：<br>名稱題<span id="q0"></span><br>類別題<span id="q1"></span><br>
</div>
</div>
<script>
window.onload=function(){
		for(k=0;k<n;k++){
				document.getElementById("sel").innerHTML+="<label><input type='radio' name='a' value='"+k+"' onclick='an="+k+";'><span id='a"+k+"' style='padding:0;margin:0;'></span></label>";
				if(k<n-1){
						document.getElementById("sel").innerHTML+="<br>";
				}
		}
		document.getElementById("sel").style.height=(n*29)+"px";
		document.getElementById("h0").style.height=(n*29+8)+"px";
		document.getElementById("h1").style.height=(n*29+8)+"px";
		document.getElementById("h2").style.height=(n*29+8)+"px";
		document.getElementById("h3").style.height=(n*29+8)+"px";
		qc();
		getn();
}
</script>
<footer>Created by Yz Chen</footer>
</body></html>
